//
//  CPShape.m
//  Chipmunk
//
//  Created by Ronald Mathies on 12/29/10.
//  Copyright 2010 Sodeso. All rights reserved.
//

#import "CMShape.h"

// --- Static inline methods -----------------------------------------------------------------------

// --- private interface ---------------------------------------------------------------------------

@interface CMShape ()

@end

// --- Class implementation ------------------------------------------------------------------------

@implementation CMShape

- (id) initWithBody:(CMBody*)body radius:(float)radius {
	if (self = [super init]) {
		mShape = cpCircleShapeNew([body construct], radius, cpvzero);
	}
	return self;
}

- (void)setElasticity:(float)elasticity {
	mShape->e = elasticity;
}

- (void)setFriction:(float)friction {
	mShape->u = friction;
}

- (void)setData:(id)data {
	mShape->data = data;
}

- (void)setCollisionType:(cpCollisionType)type {
	mShape->collision_type = type;
}

- (void) addToSpaceAsStatic {
	cpSpaceAddStaticShape([[CMManager inst] space], mShape);
}

- (void) addToSpace {
	cpSpaceAddShape([[CMManager inst] space], mShape);
}

- (cpShape*) construct {
	return mShape;
}

- (void) dealloc {
	[super dealloc];
}

@end
